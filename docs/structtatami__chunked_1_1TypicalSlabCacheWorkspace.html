<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tatami_chunked: tatami_chunked::TypicalSlabCacheWorkspace&lt; Index_, Slab_ &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tatami_chunked
   </div>
   <div id="projectbrief">Helpers to create custom chunked tatami matrices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetatami__chunked.html">tatami_chunked</a></li><li class="navelem"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">TypicalSlabCacheWorkspace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structtatami__chunked_1_1TypicalSlabCacheWorkspace-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tatami_chunked::TypicalSlabCacheWorkspace&lt; Index_, Slab_ &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Workspace for typical slab extraction.  
 <a href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="typical__slab__cache_8hpp_source.html">typical_slab_cache.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab99537bf021828325a9c9d78cf6f9458"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#ab99537bf021828325a9c9d78cf6f9458">TypicalSlabCacheWorkspace</a> ()=default</td></tr>
<tr class="separator:ab99537bf021828325a9c9d78cf6f9458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a116dd3a78cd0ab9f43e99425f43bfa69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a116dd3a78cd0ab9f43e99425f43bfa69">TypicalSlabCacheWorkspace</a> (Index_ <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a46f8deb0af915ddaa539da64efa0010d">primary_length</a>, Index_ secondary_length, size_t cache_size_in_elements, bool require_minimum_cache)</td></tr>
<tr class="separator:a116dd3a78cd0ab9f43e99425f43bfa69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e99c4866ed080bfbf7dd63ac112474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a64e99c4866ed080bfbf7dd63ac112474">set_oracle</a> (std::unique_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/structtatami_1_1Oracle.html">tatami::Oracle</a>&lt; Index_ &gt; &gt; o)</td></tr>
<tr class="separator:a64e99c4866ed080bfbf7dd63ac112474"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a46f8deb0af915ddaa539da64efa0010d"><td class="memItemLeft" align="right" valign="top">Index_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a46f8deb0af915ddaa539da64efa0010d">primary_length</a></td></tr>
<tr class="separator:a46f8deb0af915ddaa539da64efa0010d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799cf52c298fefc718bf8a8137139933"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a799cf52c298fefc718bf8a8137139933">slab_size_in_elements</a></td></tr>
<tr class="separator:a799cf52c298fefc718bf8a8137139933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db6804025caf7a08ffcce71ac9c36d6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a4db6804025caf7a08ffcce71ac9c36d6">num_slabs_in_cache</a></td></tr>
<tr class="separator:a4db6804025caf7a08ffcce71ac9c36d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064f91ff40a9b14db716b17098061515"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classtatami__chunked_1_1LruSlabCache.html">LruSlabCache</a>&lt; Index_, Slab_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a064f91ff40a9b14db716b17098061515">lru_cache</a></td></tr>
<tr class="separator:a064f91ff40a9b14db716b17098061515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edf66abbcc4d3c07cd3bee543da2598"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classtatami__chunked_1_1OracleSlabCache.html">OracleSlabCache</a>&lt; Index_, Index_, Slab_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a9edf66abbcc4d3c07cd3bee543da2598">oracle_cache</a></td></tr>
<tr class="separator:a9edf66abbcc4d3c07cd3bee543da2598"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, class Slab_&gt;<br />
struct tatami_chunked::TypicalSlabCacheWorkspace&lt; Index_, Slab_ &gt;</div><p >Workspace for typical slab extraction. </p>
<p >Implements a workspace to initialize the slab caches (i.e., the <code><a class="el" href="classtatami__chunked_1_1LruSlabCache.html" title="Least-recently-used cache for slabs.">LruSlabCache</a></code> and <code><a class="el" href="classtatami__chunked_1_1OracleSlabCache.html" title="Oracle-aware cache for slabs.">OracleSlabCache</a></code>) for extraction from a chunked matrix representation. This is intended to be a member of an <code>Extractor</code> class, allowing extraction to switch between different caches, e.g., when <code>ExtractorBase::set_oracle()</code> is called. It also handles the calculation of various cache size statistics.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the row/column indices. </td></tr>
    <tr><td class="paramname">Slab_</td><td>Class that contains a single slab. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab99537bf021828325a9c9d78cf6f9458" name="ab99537bf021828325a9c9d78cf6f9458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99537bf021828325a9c9d78cf6f9458">&#9670;&#160;</a></span>TypicalSlabCacheWorkspace() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::TypicalSlabCacheWorkspace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Default constructor. </p>

</div>
</div>
<a id="a116dd3a78cd0ab9f43e99425f43bfa69" name="a116dd3a78cd0ab9f43e99425f43bfa69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a116dd3a78cd0ab9f43e99425f43bfa69">&#9670;&#160;</a></span>TypicalSlabCacheWorkspace() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::TypicalSlabCacheWorkspace </td>
          <td>(</td>
          <td class="paramtype">Index_&#160;</td>
          <td class="paramname"><em>primary_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Index_&#160;</td>
          <td class="paramname"><em>secondary_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cache_size_in_elements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>require_minimum_cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primary_length</td><td>Length of the primary dimension of each slab. The primary dimension contains the elements to be extracted from each cached slab. For example, if we were iterating through rows of a matrix, <code>primary_length</code> would be the number of rows spanned by each slab. </td></tr>
    <tr><td class="paramname">secondary_length</td><td>Length of the secondary dimension of each slab. This is the dimension that is not the primary, e.g., if we were iterating through matrix rows, the <code>secondary_length</code> would be the number of columns spanned by each slab. </td></tr>
    <tr><td class="paramname">cache_size_in_elements</td><td>Total size of the cache in terms of the number of elements. This is usually derived from <code><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheOptions.html#acb6a39320c2eccd7cf2231e8b29b13fc">TypicalSlabCacheOptions::maximum_cache_size</a></code> and the size of each element. </td></tr>
    <tr><td class="paramname">require_minimum_cache</td><td>Whether to enforce a minimum size of the cache for efficient extraction, see <code><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheOptions.html" title="Typical options for cached slab extraction.">TypicalSlabCacheOptions</a></code> for details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a64e99c4866ed080bfbf7dd63ac112474" name="a64e99c4866ed080bfbf7dd63ac112474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e99c4866ed080bfbf7dd63ac112474">&#9670;&#160;</a></span>set_oracle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::set_oracle </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="elRef" href="https://tatami-inc.github.io/tatami/structtatami_1_1Oracle.html">tatami::Oracle</a>&lt; Index_ &gt; &gt;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Set up the oracle cache. This will only have an effect if the number of slabs in the cache is greater than 1, otherwise the predictions have no effect on the choice of slab to retain. Callers should check for a non-NULL <code>oracle_cache</code> before attempting to use it, otherwise they should use the <code>lru_cache</code> (provided <code>num_slabs_in_cache &gt; 0</code>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Oracle to provide predictions for subsequent accesses on the primary dimension. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a46f8deb0af915ddaa539da64efa0010d" name="a46f8deb0af915ddaa539da64efa0010d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f8deb0af915ddaa539da64efa0010d">&#9670;&#160;</a></span>primary_length</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Index_ <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::primary_length</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Length of the primary dimension of each slab. </p>

</div>
</div>
<a id="a799cf52c298fefc718bf8a8137139933" name="a799cf52c298fefc718bf8a8137139933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799cf52c298fefc718bf8a8137139933">&#9670;&#160;</a></span>slab_size_in_elements</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::slab_size_in_elements</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Size of each slab, in terms of the number of elements. </p>

</div>
</div>
<a id="a4db6804025caf7a08ffcce71ac9c36d6" name="a4db6804025caf7a08ffcce71ac9c36d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4db6804025caf7a08ffcce71ac9c36d6">&#9670;&#160;</a></span>num_slabs_in_cache</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::num_slabs_in_cache</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Number of slabs that can fit in the cache. </p>

</div>
</div>
<a id="a064f91ff40a9b14db716b17098061515" name="a064f91ff40a9b14db716b17098061515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a064f91ff40a9b14db716b17098061515">&#9670;&#160;</a></span>lru_cache</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classtatami__chunked_1_1LruSlabCache.html">LruSlabCache</a>&lt;Index_, Slab_&gt; &gt; <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::lru_cache</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cache of least recently used slabs. This is only allocated if <code>num_slabs_in_cache</code> is positive and <code>oracle_cache</code> is NULL. </p>

</div>
</div>
<a id="a9edf66abbcc4d3c07cd3bee543da2598" name="a9edf66abbcc4d3c07cd3bee543da2598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9edf66abbcc4d3c07cd3bee543da2598">&#9670;&#160;</a></span>oracle_cache</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , class Slab_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classtatami__chunked_1_1OracleSlabCache.html">OracleSlabCache</a>&lt;Index_, Index_, Slab_&gt; &gt; <a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html">tatami_chunked::TypicalSlabCacheWorkspace</a>&lt; Index_, Slab_ &gt;::oracle_cache</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cache of to-be-used slabs, based on an <code>Oracle</code>'s predictions. This may be NULL, see <code><a class="el" href="structtatami__chunked_1_1TypicalSlabCacheWorkspace.html#a64e99c4866ed080bfbf7dd63ac112474">set_oracle()</a></code> for more details. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>tatami_chunked/<a class="el" href="typical__slab__cache_8hpp_source.html">typical_slab_cache.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
